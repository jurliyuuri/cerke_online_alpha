type ObtainablePieces = "黒兵" | "赤兵" | "黒弓" | "黒車" | "黒虎" | "黒馬" | "黒筆" | "黒巫" | "黒将" | "赤弓" | "赤車" | "赤虎" | "赤馬" | "赤筆" | "赤巫" | "赤将" | "黒王" | "赤王" | "黒船" | "赤船";

const piece_list: ObtainablePieces[] = ["黒兵", "黒兵", "黒兵", "黒兵", "黒兵", "黒兵", "黒兵", "黒兵", "赤兵", "赤兵", "赤兵", "赤兵", "赤兵", "赤兵", "赤兵", "赤兵", "黒弓", "黒車", "黒虎", "黒馬", "黒筆", "黒巫", "黒将", "黒弓", "黒車", "黒虎", "黒馬", "黒筆", "黒巫", "黒将", "赤弓", "赤車", "赤虎", "赤馬", "赤筆", "赤巫", "赤将", "赤弓", "赤車", "赤虎", "赤馬", "赤筆", "赤巫", "赤将", "黒王", "赤王", "黒船", "赤船"];

type Hand = "王" | "獣" | "同色獣" | "地心" | "同色地心" | "馬弓兵" | "同色馬弓兵" | "助友" | "同色助友" | "戦集" | "同色戦集" | "行行" | "同色行行" | "筆兵無傾" | "同色筆兵無傾" | "闇戦之集" | "同色闇戦之集" | "無抗行処" | "同色無抗行処";

const toScore: {[P in Hand]: number} = {
    "無抗行処": 50,
    "同色無抗行処": 52,
    "筆兵無傾": 10,
    "同色筆兵無傾": 12,
    "地心": 7,
    "同色地心": 9,
    "馬弓兵": 5,
    "同色馬弓兵": 7,
    "行行": 5,
    "同色行行": 7,
    "王": 3+2, /* 同色 by default */
    "獣": 3,
    "同色獣": 5,
    "戦集": 3,
    "同色戦集": 5,
    "助友": 3,
    "同色助友": 5,
    "闇戦之集": 3,
    "同色闇戦之集": 5
}

const tests: {"pieces": ObtainablePieces[], "score": number, "hands": Hand[]}[] = [
    { "pieces": ["赤弓"], "score": 0, "hands": [] },
    { "pieces": ["赤兵"], "score": 0, "hands": [] },
    { "pieces": ["赤車"], "score": 0, "hands": [] },
    { "pieces": ["赤筆"], "score": 0, "hands": [] },
    { "pieces": ["黒車"], "score": 0, "hands": [] },
    { "pieces": ["赤馬"], "score": 0, "hands": [] },
    { "pieces": ["黒巫"], "score": 0, "hands": [] },
    { "pieces": ["黒巫"], "score": 0, "hands": [] },
    { "pieces": ["赤車"], "score": 0, "hands": [] },
    { "pieces": ["赤虎"], "score": 0, "hands": [] },
    { "pieces": ["赤兵"], "score": 0, "hands": [] },
    { "pieces": ["赤巫"], "score": 0, "hands": [] },
    { "pieces": ["黒車"], "score": 0, "hands": [] },
    { "pieces": ["黒筆"], "score": 0, "hands": [] },
    { "pieces": ["黒将"], "score": 0, "hands": [] },
    { "pieces": ["赤虎"], "score": 0, "hands": [] },
    { "pieces": ["黒王"], "score": 5, "hands": ["王"] },
    { "pieces": ["黒車", "黒将"], "score": 0, "hands": [] },
    { "pieces": ["黒弓", "赤兵"], "score": 0, "hands": [] },
    { "pieces": ["赤車", "赤巫"], "score": 0, "hands": [] },
    { "pieces": ["赤兵", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["黒虎", "赤馬"], "score": 3, "hands": ["獣"] },
    { "pieces": ["赤兵", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["赤船", "赤筆"], "score": 0, "hands": [] },
    { "pieces": ["赤兵", "赤馬"], "score": 0, "hands": [] },
    { "pieces": ["赤筆", "黒将"], "score": 0, "hands": [] },
    { "pieces": ["赤弓", "赤兵"], "score": 0, "hands": [] },
    { "pieces": ["黒兵", "赤弓"], "score": 0, "hands": [] },
    { "pieces": ["黒虎", "黒王"], "score": 10, "hands": ["王", "同色獣"] },
    { "pieces": ["赤船", "赤王"], "score": 5, "hands": ["王"] },
    { "pieces": ["赤虎", "赤将", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["赤船", "赤兵", "赤王"], "score": 5, "hands": ["王"] },
    { "pieces": ["黒筆", "黒虎", "黒馬"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["赤兵", "赤兵", "黒王"], "score": 11, "hands": ["助友", "戦集", "王"] },
    { "pieces": ["黒兵", "黒兵", "赤将"], "score": 3, "hands": ["戦集"] },
    { "pieces": ["赤将", "黒兵", "黒筆"], "score": 0, "hands": [] },
    { "pieces": ["黒弓", "赤兵", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["赤馬", "赤虎", "赤車"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["黒車", "黒兵", "赤兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["黒将", "黒兵", "赤兵"], "score": 3, "hands": ["戦集"] },
    { "pieces": ["黒筆", "赤王", "黒巫"], "score": 12, "hands": ["王", "地心"] },
    { "pieces": ["赤船", "黒車", "赤王"], "score": 10, "hands": ["王", "行行"] },
    { "pieces": ["黒車", "赤兵", "赤兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["黒虎", "黒兵", "黒馬", "赤兵"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["赤車", "赤兵", "黒巫", "赤兵"], "score": 5, "hands": ["同色助友"] },
    { "pieces": ["赤将", "黒馬", "赤車", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["黒兵", "赤車", "黒筆", "黒兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["赤筆", "黒虎", "赤虎", "赤巫"], "score": 0, "hands": [] },
    { "pieces": ["赤車", "赤兵", "赤弓", "黒兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["赤兵", "赤車", "黒将", "黒巫"], "score": 0, "hands": [] },
    { "pieces": ["黒車", "黒馬", "黒馬", "赤車"], "score": 0, "hands": [] },
    { "pieces": ["黒兵", "黒王", "黒弓", "赤兵"], "score": 18, "hands": ["助友", "戦集", "王", "同色馬弓兵"] },
    { "pieces": ["黒兵", "黒兵", "赤弓", "黒馬"], "score": 5, "hands": ["馬弓兵"] },
    { "pieces": ["赤兵", "黒弓", "黒船", "赤王"], "score": 10, "hands": ["王", "馬弓兵"] },
    { "pieces": ["黒虎", "赤弓", "黒兵", "赤王"], "score": 13, "hands": ["獣", "王", "馬弓兵"] },
    { "pieces": ["黒馬", "黒筆", "赤将", "赤馬", "赤兵"], "score": 0, "hands": [] },
    { "pieces": ["赤馬", "赤巫", "黒船", "黒兵", "黒兵"], "score": 0, "hands": [] },
    { "pieces": ["黒将", "黒馬", "黒兵", "黒車", "赤馬"], "score": 0, "hands": [] },
    { "pieces": ["赤将", "赤車", "黒馬", "赤兵", "黒兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["赤虎", "赤将", "黒兵", "赤兵", "黒馬"], "score": 6, "hands": ["獣", "戦集"] },
    { "pieces": ["赤兵", "赤虎", "赤将", "黒筆", "赤兵"], "score": 5, "hands": ["同色戦集"] },
    { "pieces": ["赤車", "黒兵", "黒巫", "黒兵", "赤馬"], "score": 3, "hands": ["助友"] },
    { "pieces": ["黒兵", "黒弓", "赤筆", "赤巫", "黒王"], "score": 29, "hands": ["地心", "筆兵無傾", "同色馬弓兵", "王"] },
    { "pieces": ["赤兵", "赤筆", "赤車", "赤兵", "黒車", "赤虎"], "score": 5, "hands": ["同色助友"] },
    { "pieces": ["黒車", "赤兵", "黒弓", "赤兵", "赤虎", "黒兵"], "score": 3, "hands": ["助友"] },
    { "pieces": ["赤将", "黒兵", "黒兵", "赤車", "赤車", "赤弓"], "score": 6, "hands": ["助友", "戦集"] },
    { "pieces": ["赤船", "赤馬", "赤虎", "赤兵", "黒筆", "赤将"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["黒筆", "黒弓", "黒王", "黒兵", "赤弓", "赤車"], "score": 13, "hands": ["王", "助友", "馬弓兵"] },
    { "pieces": ["黒馬", "赤兵", "赤兵", "黒筆", "赤将", "黒車"], "score": 3, "hands": ["助友"] },
    { "pieces": ["黒将", "赤筆", "赤兵", "黒弓", "黒王", "赤王"], "score": 36, "hands": ["王", "馬弓兵", "地心", "筆兵無傾", "獣", "戦集", "助友"] },
    { "pieces": ["赤兵", "黒車", "黒兵", "赤将"], "score": 6, "hands": ["助友", "戦集"] },
    { "pieces": ["黒将", "赤弓", "黒兵", "黒兵"], "score": 5, "hands": ["同色戦集"] },
    { "pieces": ["赤弓", "赤車", "赤筆", "赤将", "赤虎", "黒弓"], "score": 0, "hands": [] },
    { "pieces": ["赤車", "黒王", "黒兵", "黒船", "黒兵", "黒馬"], "score": 29, "hands": ["王", "同色助友", "同色戦集", "同色馬弓兵", "同色行行"] },
    { "pieces": ["赤兵", "赤巫", "赤馬", "赤虎", "赤将", "赤兵"], "score": 10, "hands": ["同色獣", "同色戦集"] },
    { "pieces": ["黒弓", "黒馬", "赤筆", "赤将", "黒兵", "黒兵"], "score": 10, "hands": ["同色馬弓兵", "戦集"] },
    { "pieces": ["赤兵", "黒筆", "赤虎", "黒兵", "赤筆", "黒巫"], "score": 0, "hands": [] },
    { "pieces": ["黒虎", "黒兵", "赤兵", "赤巫", "黒巫", "黒馬", "赤兵"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["黒車", "赤将", "黒筆", "黒兵", "黒馬", "赤筆", "赤兵"], "score": 6, "hands": ["助友", "戦集"] },
    { "pieces": ["赤虎", "赤将", "黒虎", "赤弓", "赤兵", "赤将", "赤兵"], "score": 5, "hands": ["同色戦集"] },
    { "pieces": ["赤王", "赤馬", "黒兵", "赤兵", "黒馬", "赤虎", "黒筆"], "score": 23, "hands": ["助友", "戦集", "王", "同色獣", "同色馬弓兵"] },
    { "pieces": ["赤将", "黒船", "黒巫", "黒弓", "黒車", "黒兵", "黒将"], "score": 0, "hands": [] },
    { "pieces": ["黒兵", "赤兵", "黒弓", "黒車", "黒巫", "赤巫", "赤馬"], "score": 8, "hands": ["助友", "馬弓兵"] },
    { "pieces": ["黒馬", "黒兵", "赤馬", "赤筆", "赤弓", "黒馬", "黒兵"], "score": 5, "hands": ["馬弓兵"] },
    { "pieces": ["黒巫", "赤筆", "赤兵", "黒兵", "赤車", "黒将", "赤兵", "赤虎"], "score": 15, "hands": ["戦集", "同色助友", "地心"] },
    { "pieces": ["黒車", "黒馬", "黒船", "赤船", "黒兵", "赤馬", "黒車", "赤巫"], "score": 7, "hands": ["同色行行"] },
    { "pieces": ["赤兵", "黒馬", "黒兵", "赤兵", "赤巫", "黒筆", "黒兵", "黒虎"], "score": 5, "hands": ["同色獣"] },
    { "pieces": ["黒車", "黒将", "黒巫", "赤兵", "黒兵", "赤巫", "黒弓", "赤兵"], "score": 6, "hands": ["助友", "戦集"] },
    { "pieces": ["黒兵", "黒筆", "赤馬", "赤巫", "赤筆", "赤車", "黒巫", "黒将"], "score": 7, "hands": ["地心"] },
    { "pieces": ["黒船", "黒馬", "黒筆", "黒虎", "黒将", "赤巫", "赤虎", "赤兵"], "score": 12, "hands": ["同色獣", "地心"] },
    { "pieces": ["赤車", "黒兵", "赤王", "赤兵", "赤兵", "赤巫", "黒虎", "赤筆"], "score": 27, "hands": ["王", "同色助友", "同色戦集", "同色地心", "獣"] },
    { "pieces": ["赤馬", "黒弓", "黒将", "赤王", "赤船", "赤将", "赤将", "黒馬"], "score": 12, "hands": ["馬弓兵", "同色行行"] },
    { "pieces": ["黒兵", "赤馬", "赤巫", "黒筆", "黒馬", "黒巫", "黒将", "赤虎", "赤馬"], "score": 14, "hands": ["同色獣", "同色地心"] },
    { "pieces": ["黒将", "黒兵", "赤兵", "黒虎", "黒兵", "黒巫", "赤巫", "赤筆", "赤車"], "score": 15, "hands": ["同色戦集", "助友", "地心"] },
    { "pieces": ["赤弓", "赤兵", "黒兵", "黒兵", "黒兵", "黒虎", "赤兵", "赤車", "黒巫"], "score": 8, "hands": ["闇戦之集", "同色助友"] },
    { "pieces": ["赤車", "黒将", "黒兵", "黒虎", "赤兵", "黒車", "黒虎", "黒巫", "赤兵"], "score": 8, "hands": ["同色助友", "戦集"] },
    { "pieces": ["赤将", "黒王", "黒将", "黒馬", "黒馬", "黒兵", "黒巫", "黒兵", "黒兵"], "score": 36, "hands": ["同色戦集", "王", "同色助友", "同色獣", "同色馬弓兵", "同色地心"] },
    { "pieces": ["黒巫", "赤筆", "黒兵", "黒巫", "黒兵", "赤兵", "赤兵", "赤馬", "赤馬"], "score": 3, "hands": ["助友"] },
    { "pieces": ["黒虎", "赤虎", "黒馬", "赤弓", "赤王", "黒筆", "黒船", "黒車", "赤兵"], "score": 27, "hands": ["同色馬弓兵", "同色獣", "助友", "王", "同色行行"] },
    { "pieces": ["赤弓", "黒筆", "黒巫", "黒兵", "黒船", "赤兵", "赤将", "赤王", "赤馬"], "score": 42, "hands": ["王", "戦集", "行行", "同色獣", "同色馬弓兵", "地心", "筆兵無傾"] },
    { "pieces": ["赤筆", "黒将", "黒筆", "赤兵", "黒兵", "赤兵", "赤兵", "黒兵", "黒弓"], "score": 8, "hands": ["闇戦之集", "同色戦集"] },
    { "pieces": ["黒兵", "赤兵", "赤兵", "赤虎", "赤王", "黒兵", "赤車", "赤虎", "赤兵"], "score": 23, "hands": ["闇戦之集", "同色助友", "同色戦集", "同色獣", "王"] },
    { "pieces": ["赤兵", "赤弓", "赤虎", "赤兵", "赤兵", "黒巫", "赤兵", "赤兵", "黒兵"], "score": 5, "hands": ["同色闇戦之集"] }
];

for (let i = 0; i < tests.length; i++) {
    tests[i].hands.map(a => toScore[a]).reduce((a,b) => a+b, 0) === tests[i].score ? console.log("ok") : alert(`wrong, in ${tests[i].pieces.join("、")}`);
}
